<!DOCTYPE html>
<html>
<body>

<h2>Create Post</h2>

<form action="/create_post" method="POST">
  <label for="Title">Title:</label><br>
  <input type="text" id="title" name="title" value=""><br>
  <label for="add_Description">Add Description:</label><br>
  <textarea id="add_Description" name="add_Description" rows="4" cols="50" placeholder="Enter description here"></textarea><br><br>
  <label for="Tags">Tags:</label><br>
  <input type="text" id="Tags" name="Tags" placeholder="Enter tags separated by commas"><br><br>
  <label for="Thumbnails">Thumbnails:</label><br>
  <input type="text" id="Thumbnails" name="Thumbnails" placeholder="Enter Thumbnails separated by commas"><br><br>
  <input type="submit" value="Create">
</form>

<h2>Search Post</h2>

<form action="/get_Post" method="GET">
  <label for="Title">Enter Title or Tags:</label><br>
  <input type="text" id="searchTerm" name="searchTerm" value=""><br>
  <input type="submit" value="Search">
</form>

<h2>Update Post</h2>

<form action="/Update_Post" method="POST">
  <label for="Enter_Name_of_Post">Enter Name of Post:</label><br>
  <input type="text" id="title2" name="title2" value=""><br>

  <label for="Updatedtitle2">New Title:</label><br>
  <input type="text" id="Updatedtitle2" name="new_title" value=""><br>

  <label for="add_Description2">Add New Description:</label><br>
  <textarea id="add_Description2" name="new_description" rows="4" cols="50" placeholder="Enter description here"></textarea><br><br>

  <label for="Tags2">New Tags:</label><br>
  <input type="text" id="Tags2" name="new_tags" placeholder="Enter tags separated by commas"><br><br>

  <label for="Thumbnails2">New Thumbnails:</label><br>
  <input type="text" id="Thumbnails2" name="new_thumbnails" placeholder="Enter Thumbnails separated by commas"><br><br>

  <input type="submit" value="Update">
</form>

<h2>Display Posts</h2>

<div id="posts">
  <!-- Posts will be displayed here -->
</div>

<script>
  // Fetch and display posts on page load
  document.addEventListener('DOMContentLoaded', function() {
    fetchPosts();
  });

  async function fetchPosts() {
    try {
      const response = await fetch('/get_Post');
      const data = await response.json();
      const posts = data.posts;

      const postsContainer = document.getElementById('posts');
      postsContainer.innerHTML = ''; // Clear previous content

      posts.forEach(post => {
        const postElement = document.createElement('div');
        postElement.innerHTML = `
          <h3>${post.title}</h3>
          <p>Description: ${post.add_Description}</p>
          <p>Tags: ${post.Tags.join(', ')}</p>
          <p>Thumbnails: ${post.Thumbnails.join(', ')}</p>
          <hr>
        `;
        postsContainer.appendChild(postElement);
      });
    } catch (error) {
      console.error('Error fetching posts:', error);
    }
  }
</script>

</body>
</html>
